<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Rules</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .container {
            width: 760px;
            max-width: 95%;
            margin: 40px auto;
        }
        .rules-container {
            padding: 24px;
            border: 2px solid #003300;
            background: rgba(0, 0, 0, 0.6);
        }
        #timer {
            font-size: 24px;
            color: #00ff00;
            margin: 20px 0;
            text-align: center;
        }
        #language-selector {
            width: 100%;
            margin: 0 0 20px 0;
            padding: 12px;
            font-size: 15px;
            background: rgba(0, 51, 0, 0.2);
            color: #00ff00;
            border: 1px solid #003300;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
        }
        #language-selector:focus {
            border-color: #00ff00;
            outline: none;
        }
        #language-selector option {
            background: rgb(0, 15, 0);
            color: #00ff00;
            padding: 8px;
        }
        #continue-btn, #skip-btn {
            margin-top: 20px;
            background: rgba(0, 51, 0, 0.2);
            color: #00ff00;
            border: 1px solid #003300;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        #continue-btn:hover, #skip-btn:hover {
            background: #003300;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.2);
            transform: translateY(-1px);
        }
        #continue-btn:active, #skip-btn:active {
            transform: translateY(1px);
        }
        .rules-list {
            text-align: left;
            margin: 20px 0;
            color: #00ff00;
        }
        .rules-list p {
            margin: 10px 0;
            color: #33ff33;
            animation: fadeIn 0.5s ease-out;
        }
        #rules-title {
            font-size: 20px;
            margin: 0 0 12px 0;
            color: #00ff00;
        }
        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <select id="language-selector" onchange="changeLanguage()">
            <!-- Major World Languages -->
            <option value="en">English (US/UK)</option>
            <option value="es">Español (Spanish)</option>
            <option value="zh">中文 (Chinese)</option>
            <option value="hi">हिंदी (Hindi)</option>
            <option value="ar">العربية (Arabic)</option>
            <option value="ur">Roman Urdu</option>
            <option value="bn">বাংলা (Bengali)</option>
            <option value="pt">Português (Portuguese)</option>
            <option value="ru">Русский (Russian)</option>
            <option value="ja">日本語 (Japanese)</option>
        </select>

        <div class="rules-container">
            <h1 id="rules-title">Community Rules</h1>
            <div id="timer">60</div>
            <div class="rules-list" id="rules-content">
                <!-- Rules content will be populated by JavaScript -->
            </div>
            <div class="button-group">
                <button id="skip-btn" onclick="proceedToChat()" class="btn">Skip Wait</button>
                <button id="continue-btn" style="display:none" onclick="proceedToChat()" class="btn">Continue to Chat</button>
            </div>
        </div>
    </div>

    <script>
        // Store the username from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const username = urlParams.get('username');

        // Language translations
        const translations = {
            en: {
                title: "Community Rules",
                rules: [
                    "No hate speech or discrimination of any kind",
                    "No abusive behavior or harassment",
                    "No sharing of inappropriate or adult content",
                    "No sharing of dangerous or malicious links",
                    "Respect other users and their privacy",
                    "Keep conversations civil and friendly",
                    "No spamming or flooding the chat",
                    "No sharing of personal information"
                ]
            },
            es: {
                title: "Reglas de la Comunidad",
                rules: [
                    "No al discurso de odio ni discriminación",
                    "No al comportamiento abusivo ni acoso",
                    "No compartir contenido inapropiado o para adultos",
                    "No compartir enlaces peligrosos o maliciosos",
                    "Respetar a otros usuarios y su privacidad",
                    "Mantener las conversaciones civiles y amistosas",
                    "No hacer spam ni inundar el chat",
                    "No compartir información personal"
                ]
            },
            ur: {
                title: "Community Rules",
                rules: [
                    "Kisi bhi kisam ki nafrat ya discrimination ki ijazat nahi hai",
                    "Kisi ko harass ya tang karna mana hai",
                    "Inappropriate ya adult content share karna mana hai",
                    "Khatarnak ya virus wale links share karna mana hai",
                    "Doosre users aur unki privacy ka khayal rakhen",
                    "Chat ko friendly aur respectful rakhen",
                    "Spam ya flood karna mana hai",
                    "Personal information share na karen"
                ]
            }
        };

        let timeLeft = 60;
        const timerElement = document.getElementById('timer');
        const continueBtn = document.getElementById('continue-btn');
        const skipBtn = document.getElementById('skip-btn');

        // Timer countdown
        const timer = setInterval(() => {
            timeLeft--;
            timerElement.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timer);
                timerElement.style.display = 'none';
                skipBtn.style.display = 'none';
                continueBtn.style.display = 'block';
            }
        }, 1000);

        function changeLanguage() {
            const lang = document.getElementById('language-selector').value;
            const translation = translations[lang] || translations.en;
            
            document.getElementById('rules-title').textContent = translation.title;
            const rulesList = document.getElementById('rules-content');
            rulesList.innerHTML = translation.rules.map(rule => `<p>• ${rule}</p>`).join('');
            
            localStorage.setItem('preferredLanguage', lang);
        }

        function proceedToChat() {
            window.location.href = `/chat.html?username=${encodeURIComponent(username)}`;
        }

        // Initialize with stored language preference
        const storedLang = localStorage.getItem('preferredLanguage') || 'en';
        document.getElementById('language-selector').value = storedLang;
        changeLanguage();
    </script>
</body>
</html>